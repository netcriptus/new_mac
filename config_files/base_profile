#!/bin/bash

##### Aliases #####
# These aliases have to be defined before the scripts in ~/bin are loaded.
alias g=git
alias gf='git fetch -p'
alias gp='git pull --rebase'
alias ls='ls -G'
alias errcho='>&2 echo'  # echo to stderr
alias reload='source ${HOME}/.profile'
alias dc=docker-compose
alias delpyc='find . -iname "*.pyc" -delete && find . -iname "__pycache__" -delete'
alias delorig='find . -iname "*.orig" -delete'
alias custom_commands='grep -e ".*() {" ~/bin/* | cut -d ":" -f2 | cut -d "("  -f1'

# These variables are used in other scripts, so they have to be exported.
export WD=${HOME}/projects
export PROJECTS=`ls -d ${WD}/*`

# Lazy "cd" alias to repositories
for project in ${PROJECTS}
do
    alias `echo ${project} | rev | cut -d "/" -f1 | rev`="cd ${WD}/${project}"
done

##### The lazy programmer bash functions #####
# Include own scripts on the session
for f in ${HOME}/bin/*.sh; do
   . ${f}
done

# No duplicated lines on bash_history
export HISTCONTROL=ignoredups

##### GIT autocompletion #####
[ -f /usr/local/etc/bash_completion ] && . /usr/local/etc/bash_completion

##### Virtualenv wrapper #####
[ -f /usr/local/bin/virtualenvwrapper.sh ] && source /usr/local/bin/virtualenvwrapper.sh

[[ -s "${HOME}/.gvm/scripts/gvm" ]] && source "${HOME}/.gvm/scripts/gvm" && gvm use go1.6 > /dev/null
export GO15VENDOREXPERIMENT=0
export GOPATH=${WD}/go

##### Ruby version manager #####
export PATH="$PATH:$HOME/.rvm/bin" # Add RVM to PATH for scripting
[[ -s "$HOME/.rvm/scripts/rvm" ]] && source "$HOME/.rvm/scripts/rvm" # Load RVM into a shell session *as a function*

# Setting up pyenv
export PYENV_ROOT="$HOME/.pyenv"
export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init -)"
